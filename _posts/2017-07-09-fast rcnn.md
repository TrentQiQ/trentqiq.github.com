---
layout:     post
title:      "fast rcnn调试记录"
subtitle:   "selective search提取OP"
date:       2017-07-09
author:     "QiQ"
header-img: "img/BingWallpaper-2017-07-09.jpg"
tags:
    - fast rcnn
    - selective search
---
## fast rcnn安装
>[fast rcnn github地址](https://github.com/rbgirshick/fast-rcnn)  

### 编译问题
---

**使用v3版本的cudnn**

```
.build_release/lib/libcaffe.so: undefined reference to `cv::imread(cv::String const&, int)'
.build_release/lib/libcaffe.so: undefined reference to `cv::imencode(cv::String const&, cv::_InputArray const&, std::vector<unsigned char, std::allocator<unsigned char> >&, std::vector<int, std::allocator<int> > const&)'
.build_release/lib/libcaffe.so: undefined reference to `cv::imdecode(cv::_InputArray const&, int)

```
vi Makefile
```
LIBRARIES += glog gflags protobuf leveldb snappy \
        lmdb boost_system hdf5_hl hdf5 m \
        opencv_core opencv_highgui opencv_imgproc opencv_imgcodecs
```
[解决faster-rcnn中训练时assert（boxes[:,2]>=boxes[:,0]）.all()的问题](http://blog.csdn.net/xzzppp/article/details/52036794)

selective search提取OP后运行程序报错
修改pascal_voc文件的_load_selective_search_roidb方法
`raw_data = sio.loadmat(filename)['boxes'].ravel()`修改为
`raw_data = sio.loadmat(filename)['all_boxes'].ravel()`
